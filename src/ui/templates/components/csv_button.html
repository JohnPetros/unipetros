{% from 'components/loading.html' import loading %}

{% macro csv_button(id, url, target, action='import') %}

{% set types = {
'import': {
'icon': 'file-arrow-down',
'title': 'Importar'
},
'export': {
'icon': 'export',
'title': 'Exportar'
}
} %}

<form
  hx-post="{{ url }}"
  hx-target="{{ target }}"
  hx-trigger="change"
  enctype="multipart/form-data"
  class="flex items-center gap-2">
  <label for="{{ id }}"
    class="flex items-center gap-1 bg-transparent text-sm text-green-500 font-semibold cursor-pointer">
    <i class="ph-bold ph-{{ types[action]['icon'] }} text-lg"></i>
    {{ types[action]["title"] }} planilha
    <input type="file" id="{{ id }}" name="csv" hidden />
  </label>
  {{ loading(class="fill-green-500 w-4 h-4") }}
</form>

{% endmacro %}